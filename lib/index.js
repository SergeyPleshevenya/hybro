!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react-native-webview-messaging"),require("guid")):"function"==typeof define&&define.amd?define(["react-native-webview-messaging","guid"],n):"object"==typeof exports?exports.hybro=n(require("react-native-webview-messaging"),require("guid")):e.hybro=n(e["react-native-webview-messaging"],e.guid)}(window,function(e,n){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=2)}([function(n,r){n.exports=e},function(e,r){e.exports=n},function(e,n,r){"use strict";r.r(n);var t=r(0),o=r.n(t),i=r(1),u=r.n(i);function s(e){return JSON.stringify(e,function(e,n){return void 0===n?"___UNDEFINED___":n})}r.d(n,"invoke",function(){return c}),r.d(n,"addEventListener",function(){return l}),r.d(n,"removeEventListener",function(){return p});var a={},d={},f={},c=function(e,n,r,t){return new Promise(function(i,d){var f=u.a.raw();a[f]={resolve:i,reject:d},o.a.sendJSON({type:"invoke",id:f,args:s([e,n,r,t])})})},l=function(e,n,r,t){return new Promise(function(i,d){var c=u.a.raw();a[c]={resolve:i,reject:d},f[c]=t,o.a.sendJSON({type:"addEventListener",id:c,args:s([e,n,r])})})},p=function(e,n,r,t){return new Promise(function(i,d){var c=u.a.raw();a[c]={resolve:i,reject:d},delete f[t],o.a.sendJSON({type:"removeEventListener",id:c,args:s([e,n,r,t])})})};o.a.on("json",function(e){if(e&&e.id&&(d[e.id]=d[e.id]||{result:{},parts:0},d[e.id].result[e.index]=e.result,d[e.id].parts++,d[e.id].parts==e.parts)){for(var n="",r=0;r<e.parts;++r)n+=d[e.id].result[r];if(n=function(e){return JSON.parse(e,function(e,n){if("___UNDEFINED___"!==n)return n})}(n),"event"==e.type){var t=f[e.commandId];t&&t(n)}else a[e.commandId]?("error"==e.type?a[e.commandId].reject(new Error(n.message)):a[e.commandId].resolve(n),delete a[e.commandId]):console.warn("Promise is already resolved or rejected")}}),function(){var e=!!window.originalPostMessage,n=[],r=function(e){n.length>100&&n.shift(),n.push(e)};if(!e){var t=window.postMessage;Object.defineProperty(window,"postMessage",{configurable:!0,enumerable:!0,get:function(){return r},set:function(n){r=n,e=!0,setTimeout(o,0)}}),window.postMessage.toString=function(){return String(t)}}function o(){for(;n.length>0;)window.postMessage(n.shift())}}()}])});